## Data Dictionary: Application Datasets

This document describes the columns available in the final prediction datasets generated by the `04_nn_model.ipynb` notebook. These datasets contain a full panel of every listing for all 12 months of the year, enriched with model predictions.

### 1. `[city]_baseline_model_predictions.parquet`

This dataset contains the core listing information along with the final price predictions from the `BaselineModel`.

| Column Name                  | Data Type | Description                                                                                                                                                                                            |
| :--------------------------- | :-------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **--- Identifiers ---**        |           |                                                                                                                                                                                                        |
| `id`                         | `int64`   | The unique identifier for the Airbnb listing.                                                                                                                                                          |
| `host_id`                    | `int64`   | The unique identifier for the host of the listing.                                                                                                                                                     |
| **--- Static Features ---**    |           | *Features that are constant for a listing across all months.*                                                                                                                                          |
| `name`                       | `string`  | The title of the listing as provided by the host.                                                                                                                                                      |
| `description`                | `string`  | The full description text of the listing.                                                                                                                                                              |
| `amenities`                  | `string`  | A string listing all the amenities available at the property.                                                                                                                                          |
| `latitude`                   | `float64` | The geographic latitude of the listing.                                                                                                                                                                |
| `longitude`                  | `float64` | The geographic longitude of the listing.                                                                                                                                                               |
| `neighbourhood_cleansed`     | `string`  | The official neighborhood name for the listing's location.                                                                                                                                             |
| `property_type`              | `string`  | The type of property (e.g., "Entire rental unit", "Private room in home").                                                                                                                               |
| `room_type`                  | `string`  | The type of room offered (e.g., "Entire home/apt", "Private room").                                                                                                                                    |
| `accommodates`               | `int64`   | The maximum number of guests the listing can accommodate.                                                                                                                                              |
| `bathrooms`                  | `float64` | The number of bathrooms in the listing.                                                                                                                                                                |
| `bedrooms`                   | `float64` | The number of bedrooms in the listing.                                                                                                                                                                 |
| `beds`                       | `float64` | The number of beds available in the listing.                                                                                                                                                           |
| `host_is_superhost`          | `int64`   | A binary flag (`1` or `0`) indicating if the host is a Superhost.                                                                                                                                      |
| `total_reviews`              | `int64`   | The total number of reviews the listing has received.                                                                                                                                                  |
| `review_scores_rating`       | `float64` | The overall rating score for the listing (typically 1-5). Includes all sub-scores like `_cleanliness`, `_checkin`, etc.                                                                                  |
| **--- Temporal & Metadata ---** |           |                                                                                                                                                                                                        |
| `month`                      | `int64`   | The month of the year for this specific record (1 for January, 12 for December).                                                                                                                       |
| `split`                      | `string`  | Indicates which data split the listing belonged to (`'train'` or `'val'`). Essential for performing a fair evaluation only on the validation set.                                                       |
| **--- Ground Truth ---**       |           |                                                                                                                                                                                                        |
| `price`                      | `float64` | The **actual historical price** for the listing in that specific month. Contains `NaN` if no price was observed in the original dataset for that listing-month combination.                                |
| **--- Model Prediction ---**   |           |                                                                                                                                                                                                        |
| `predicted_price`            | `float32` | The final price prediction in dollars, as generated by the **Baseline Model** for every row in the dataset.                                                                                            |

<br>

### 2. `[city]_app_database.parquet`

This is the primary dataset used by the Streamlit application. It is generated by the `AdditiveModel` and contains all columns from the baseline dataset, **PLUS** the following detailed, explainable components.

| Column Name                  | Data Type          | Description                                                                                                                                                                                    |
| :--------------------------- | :----------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **--- Price Components (Log-Space) ---** |                    | *The direct, additive outputs from each sub-network. These are the building blocks of the final prediction in log-price space.*                                                          |
| `p_base_log`                 | `float32`          | The baseline log-price for the listing's neighborhood. This is the **starting point** for the price prediction, derived from the training set's average price for that neighborhood.               |
| `p_location`                 | `float32`          | The log-price adjustment contributed by the Location sub-network.                                                                                                                              |
| `p_size_capacity`            | `float32`          | The log-price adjustment from the Size & Capacity sub-network (accommodates, beds, etc.).                                                                                                        |
| `p_quality`                  | `float32`          | The log-price adjustment from the Quality sub-network (review scores, superhost status).                                                                                                       |
| `p_amenities`                | `float32`          | The log-price adjustment from the Amenities sub-network, derived from the amenities text.                                                                                                      |
| `p_description`              | `float32`          | The log-price adjustment from the Description sub-network, derived from the listing description text.                                                                                          |
| `p_seasonality`              | `float32`          | The log-price adjustment based on the month, capturing seasonal price fluctuations.                                                                                                            |
| **--- Price Components (Multiplicative) ---** |                    | *User-friendly factors calculated as `exp(p_*)`. These show the percentage impact of each axis.*                                                                                   |
| `pm_location`                | `float32`          | The multiplicative factor for Location. A value of **1.15** indicates a **+15%** price adjustment, while **0.90** indicates a **-10%** adjustment relative to the other factors.                 |
| `pm_size_capacity`           | `float32`          | The multiplicative factor for Size & Capacity.                                                                                                                                                 |
| `pm_quality`                 | `float32`          | The multiplicative factor for Quality.                                                                                                                                                         |
| `pm_amenities`               | `float32`          | The multiplicative factor for Amenities.                                                                                                                                                       |
| `pm_description`             | `float32`          | The multiplicative factor for Description.                                                                                                                                                     |
| `pm_seasonality`             | `float32`          | The multiplicative factor for Seasonality.                                                                                                                                                     |
| **--- Hidden State Vectors ---** |                    | *The internal "embedding" vectors from each sub-network. Used for the similarity search feature.*                                                                                              |
| `h_location`                 | `array[float32]`   | The final hidden state vector (embedding) from the Location sub-network's body.                                                                                                                |
| `h_size_capacity`            | `array[float32]`   | The final hidden state vector from the Size & Capacity sub-network's body.                                                                                                                     |
| `h_quality`                  | `array[float32]`   | The final hidden state vector from the Quality sub-network's body. Represents the model's internal understanding of the listing's "quality".                                                   |
| `h_amenities`                | `array[float32]`   | The final hidden state vector from the Amenities sub-network's body. Represents the semantic meaning of the amenities.                                                                         |
| `h_description`              | `array[float32]`   | The final hidden state vector from the Description sub-network's body. Represents the semantic meaning of the description.                                                                     |
| `h_seasonality`              | `array[float32]`   | The final hidden state vector from the Seasonality sub-network's body.                                                                                                                         |